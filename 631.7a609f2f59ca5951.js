"use strict";(self.webpackChunkwebsite_frontend=self.webpackChunkwebsite_frontend||[]).push([[631],{3631:(It,F,l)=>{l.r(F),l.d(F,{PageModule:()=>Tt});var g=l(8642),h=l(354),t=l(9212),C=l(8859);let y=(()=>{class n{constructor(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var m=l(4377);function M(n){var e,o,i,s=[void 0,null,!1,0,"","0"];for(o=0,i=s.length;o<i;o++)if(n===s[o])return!0;if("object"==typeof n){for(e in n)return!1;return!0}return!1}var p=l(1474),b=l(553),k=l(2480),x=l(769);let I=(()=>{class n{constructor(e,o){this.localStorageService=e,this.http=o,this.constants=m._}isLoggedIn(){let e=this.localStorageService.get(this.constants.LS_TOKEN),o=this.localStorageService.get(this.constants.LS_USER_INFO);return!M(e)&&!M(o)}login(e,o,i){if(this.isLoggedIn())return;const s=(new p.WM).set(k.S,"");s.set("Content-Type","application/x-www-form-urlencoded"),s.set("User-Agent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36");let r=new FormData;return r.append("username",e),r.append("password",o),r.append("remember",i?"1":"0"),this.http.post(b.N.backend+"/api/login",r,{headers:s})}setAuthToken(e){this.localStorageService.set(m._.LS_TOKEN,e)}getAuthToken(){return this.localStorageService.get(m._.LS_TOKEN)}setUserInfo(e){this.localStorageService.set(m._.LS_USER_INFO,e)}getUserInfo(){return this.localStorageService.get(m._.LS_USER_INFO)}register(e,o,i,s){if(this.isLoggedIn())return;const r=(new p.WM).set(k.S,"");r.set("Content-Type","application/x-www-form-urlencoded"),r.set("User-Agent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36");let d=new FormData;return d.append("username",e),d.append("password",o),d.append("repassword",i),d.append("email",s),this.http.post(b.N.backend+"/api/register",d,{headers:r})}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(x.n2),t.LFG(p.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J=(()=>{class n{constructor(e){this.renderer=e,this.mask=this.renderer.createElement("div"),this.renderer.addClass(this.mask,"loading-mask")}ngOnInit(){}showLoading(e=""){e||(e="body");let o=this.renderer.selectRootElement(e,!0);this.renderer.appendChild(o,this.mask)}hideLoading(e=""){e||(e="body");let o=this.renderer.selectRootElement(e,!0);this.renderer.removeChild(o,this.mask)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.Qsj))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["loading-mask-component"]],decls:9,vars:0,consts:[[1,"loading-mask"],["mask",""],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","200px","height","200px","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid",2,"margin","auto","background","rgba(255, 255, 255, 0)","display","block"],["cx","50","cy","50","r","0","fill","none","stroke","#e90c59","stroke-width","2"],["attributeName","r","repeatCount","indefinite","dur","1s","values","0;40","keyTimes","0;1","keySplines","0 0.2 0.8 1","calcMode","spline","begin","0s"],["attributeName","opacity","repeatCount","indefinite","dur","1s","values","1;0","keyTimes","0;1","keySplines","0.2 0 0.8 1","calcMode","spline","begin","0s"],["cx","50","cy","50","r","0","fill","none","stroke","#46dff0","stroke-width","2"],["attributeName","r","repeatCount","indefinite","dur","1s","values","0;40","keyTimes","0;1","keySplines","0 0.2 0.8 1","calcMode","spline","begin","-0.5s"],["attributeName","opacity","repeatCount","indefinite","dur","1s","values","1;0","keyTimes","0;1","keySplines","0.2 0 0.8 1","calcMode","spline","begin","-0.5s"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0,1),t.O4$(),t.TgZ(2,"svg",2)(3,"circle",3),t._UZ(4,"animate",4)(5,"animate",5),t.qZA(),t.TgZ(6,"circle",6),t._UZ(7,"animate",7)(8,"animate",8),t.qZA()()())}});static#n=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y=l(4101),f=l(6814),_=l(95);function q(n,a){1&n&&(t.TgZ(0,"div",17),t._uU(1," Vui l\xf2ng nh\u1eadp t\xe0i kho\u1ea3n! "),t.qZA())}function H(n,a){1&n&&(t.TgZ(0,"div",18),t._uU(1," Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u! "),t.qZA())}function G(n,a){1&n&&(t.TgZ(0,"div",33),t._uU(1," Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n! "),t.qZA())}function j(n,a){1&n&&(t.TgZ(0,"div",34),t._uU(1," Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u! "),t.qZA())}function K(n,a){1&n&&(t.TgZ(0,"div",35),t._uU(1," Vui l\xf2ng nh\u1eadp x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u! "),t.qZA())}const w=n=>({"is-invalid":n});function $(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",2),t._uU(2,"\u0110\u0102NG K\xdd T\xc0I KHO\u1ea2N"),t.qZA(),t.TgZ(3,"form")(4,"div",3)(5,"label",20),t._uU(6,"T\xe0i kho\u1ea3n:"),t.qZA(),t.TgZ(7,"input",21),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.rusername=i)}),t.qZA(),t.YNc(8,G,2,0,"div",22),t.qZA(),t.TgZ(9,"div",3)(10,"label",23),t._uU(11,"M\u1eadt kh\u1ea9u:"),t.qZA(),t.TgZ(12,"input",24),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.rpassword=i)}),t.qZA(),t.YNc(13,j,2,0,"div",25),t.qZA(),t.TgZ(14,"div",3)(15,"label",26),t._uU(16,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u:"),t.qZA(),t.TgZ(17,"input",27),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.rrepassword=i)}),t.qZA(),t.YNc(18,K,2,0,"div",28),t.qZA(),t.TgZ(19,"div",3)(20,"label",29),t._uU(21,"Email:"),t.qZA(),t.TgZ(22,"input",30),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.remail=i)}),t.qZA(),t.TgZ(23,"div",31),t._uU(24,"D\xf9ng \u0111\u1ec3 k\xedch ho\u1ea1t x\xe1c th\u1ef1c 2 l\u1edbp v\xe0 kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u qua email."),t.qZA()(),t.TgZ(25,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.register())}),t._uU(26,"\u0110\u0103ng k\xfd"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("autofocus",e.showRegister)("ngModel",e.rusername)("ngClass",t.VKq(11,w,e.rusernameInvalid)),t.xp6(1),t.Q6J("ngIf",e.rusernameInvalid),t.xp6(4),t.Q6J("ngModel",e.rpassword)("ngClass",t.VKq(13,w,e.rpasswordInvalid)),t.xp6(1),t.Q6J("ngIf",e.rpasswordInvalid),t.xp6(4),t.Q6J("ngModel",e.rrepassword)("ngClass",t.VKq(15,w,e.rrepasswordInvalid)),t.xp6(1),t.Q6J("ngIf",e.rrepasswordInvalid),t.xp6(4),t.Q6J("ngModel",e.remail)}}function V(n,a){1&n&&(t.TgZ(0,"div",19)(1,"div",2),t._uU(2,"KH\xd4I PH\u1ee4C M\u1eacT KH\u1ea8U"),t.qZA(),t.TgZ(3,"form")(4,"div",3)(5,"label",36),t._uU(6,"Email:"),t.qZA(),t._UZ(7,"input",37),t.TgZ(8,"div",38),t._uU(9,"\u0110\u1ecba ch\u1ec9 email \u0111\xe3 li\xean k\u1ebft v\u1edbi t\xe0i kho\u1ea3n"),t.qZA()(),t.TgZ(10,"button",39),t._uU(11,"G\u1eedi m\xe3 kh\xf4i ph\u1ee5c"),t.qZA()()())}let Z=(()=>{class n{constructor(e,o,i,s,r,d,v){this.activeModal=e,this.modalService=o,this.element=i,this.authService=s,this.loadingMask=r,this.toastCompoent=d,this.modal=v,this.showRegister=!1,this.showForgotPassword=!1,this.lusername="",this.lusernameInvalid=!1,this.lpassword="",this.lpasswordInvalid=!1,this.rusername="",this.rusernameInvalid=!1,this.rpassword="",this.rpasswordInvalid=!1,this.rrepassword="",this.rrepasswordInvalid=!1,this.remail="",this.remailInvalid=!1,this.lremember=!1}ngOnInit(){}openRegister(){this.showForgotPassword=!1,this.showRegister=!0,this.modalService.modalRef._windowCmptRef.instance.size="xl",setTimeout(()=>{let e=document.querySelector("#rusername");e instanceof HTMLElement&&e.focus()},500)}openForgotPassword(){this.showForgotPassword=!0,this.showRegister=!1,this.modalService.modalRef._windowCmptRef.instance.size="xl",setTimeout(()=>{let e=document.querySelector("#fusername");e instanceof HTMLElement&&e.focus()},500)}login(){if(this.lusername.length<1||this.lpassword.length<1)return this.lusernameInvalid=this.lusername.length<1,void(this.lpasswordInvalid=this.lpassword.length<1);this.lusernameInvalid=this.lusername.length<1,this.lpasswordInvalid=this.lpassword.length<1,this.loadingMask.showLoading(),this.authService.login(this.lusername,this.lpassword,this.lremember)?.subscribe(e=>{let o=e;if(this.loadingMask.hideLoading(),o.success){let i=o.data;this.authService.setAuthToken(i.token),this.authService.setUserInfo(i.userInfo),this.reloadTimer=setTimeout(()=>{location.reload()},3e3);const r=this.modal.open(h.z);r.componentInstance.modal_img="./assets/images/icon-success.png",r.componentInstance.modal_title="Th\xf4ng b\xe1o",r.componentInstance.modal_description=o.message,r.componentInstance.modal_buttonCloseText="\u0110\xf3ng",r.result.then(d=>{this.reloadTimer&&clearTimeout(this.reloadTimer),location.reload()})}else{const i=this.modal.open(h.z);i.componentInstance.modal_img="./assets/images/icon-warning.png",i.componentInstance.modal_title="Th\xf4ng b\xe1o",i.componentInstance.modal_description=o.message,i.componentInstance.modal_buttonCloseText="\u0110\xf3ng"}},e=>{this.loadingMask.hideLoading();const o=this.modal.open(h.z);o.componentInstance.modal_img="./assets/images/icon-error.png",o.componentInstance.modal_title="C\u1ea3nh b\xe1o",o.componentInstance.modal_description=e,o.componentInstance.modal_buttonCloseText="\u0110\xf3ng"},()=>{this.loadingMask.hideLoading()})}register(){if(this.rusername.length<1||this.rpassword.length<1||this.rrepassword.length<1)return this.rusernameInvalid=this.rusername.length<1,this.rpasswordInvalid=this.rpassword.length<1,void(this.rrepasswordInvalid=this.rrepassword.length<1);this.rusernameInvalid=this.rusername.length<1,this.rpasswordInvalid=this.rpassword.length<1,this.rrepasswordInvalid=this.rrepassword.length<1,this.loadingMask.showLoading(),this.authService.register(this.rusername,this.rpassword,this.rrepassword,this.remail)?.subscribe(e=>{let o=e;if(this.loadingMask.hideLoading(),o.success){const i=this.modal.open(h.z);i.componentInstance.modal_img="./assets/images/icon-success.png",i.componentInstance.modal_title="Th\xf4ng b\xe1o",i.componentInstance.modal_description=o.message,i.componentInstance.modal_buttonCloseText="\u0110\xf3ng"}else{const i=this.modal.open(h.z);i.componentInstance.modal_img="./assets/images/icon-warning.png",i.componentInstance.modal_title="Th\xf4ng b\xe1o",i.componentInstance.modal_description=o.message,i.componentInstance.modal_buttonCloseText="\u0110\xf3ng"}},e=>{this.loadingMask.hideLoading();const o=this.modal.open(h.z);o.componentInstance.modal_img="./assets/images/icon-error.png",o.componentInstance.modal_title="C\u1ea3nh b\xe1o",o.componentInstance.modal_description=e,o.componentInstance.modal_buttonCloseText="\u0110\xf3ng"},()=>{this.loadingMask.hideLoading()})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(C.Kz),t.Y36(y),t.Y36(t.SBq),t.Y36(I),t.Y36(J),t.Y36(Y.q),t.Y36(C.FF))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:14,consts:[[1,"modalContent"],[1,"loginForm"],[1,"title"],[1,"mb-3"],["for","lusername",1,"form-label"],["type","text","id","lusername","name","lusername","required","","aria-describedby","lusernameInvalid",1,"form-control",3,"autofocus","ngModel","ngClass","ngModelChange"],["id","lusernameInvalid","class","invalid-feedback",4,"ngIf"],["for","lpassword",1,"form-label"],["type","password","id","lpassword","name","lpassword","required","","aria-describedby","lpasswordInvalid",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["id","lpasswordInvalid","class","invalid-feedback",4,"ngIf"],[1,"mb-3","form-check"],["type","checkbox","id","lremember",1,"form-check-input",3,"checked","change"],["for","lremember",1,"form-check-label"],["type","button",1,"btn","btn-warning",3,"click"],[1,"form-footer"],[3,"click"],["class","registerForm",4,"ngIf"],["id","lusernameInvalid",1,"invalid-feedback"],["id","lpasswordInvalid",1,"invalid-feedback"],[1,"registerForm"],["for","rusername",1,"form-label"],["type","text","id","rusername","name","rusername","aria-describedby","rusernameInvalid",1,"form-control",3,"autofocus","ngModel","ngClass","ngModelChange"],["id","rusernameInvalid","class","invalid-feedback",4,"ngIf"],["for","rpassword",1,"form-label"],["type","password","id","rpassword","name","rpassword","aria-describedby","rpasswordInvalid",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["id","rpasswordInvalid","class","invalid-feedback",4,"ngIf"],["for","rrepassword",1,"form-label"],["type","password","id","rrepassword","name","rrepassword","aria-describedby","rrepasswordInvalid",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["id","rrepasswordInvalid","class","invalid-feedback",4,"ngIf"],["for","remail",1,"form-label"],["type","email","id","remail","name","remail","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"],["id","emailHelp",1,"form-text"],["type","submit",1,"btn","btn-warning",3,"click"],["id","rusernameInvalid",1,"invalid-feedback"],["id","rpasswordInvalid",1,"invalid-feedback"],["id","rrepasswordInvalid",1,"invalid-feedback"],["for","femail",1,"form-label"],["type","email","id","femail","aria-describedby","femailHelp",1,"form-control"],["id","femailHelp",1,"form-text"],["type","submit",1,"btn","btn-warning"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"\u0110\u0102NG NH\u1eacP"),t.qZA(),t.TgZ(4,"form")(5,"div",3)(6,"label",4),t._uU(7,"T\xe0i kho\u1ea3n:"),t.qZA(),t.TgZ(8,"input",5),t.NdJ("ngModelChange",function(r){return i.lusername=r}),t.qZA(),t.YNc(9,q,2,0,"div",6),t.qZA(),t.TgZ(10,"div",3)(11,"label",7),t._uU(12,"M\u1eadt kh\u1ea9u:"),t.qZA(),t.TgZ(13,"input",8),t.NdJ("ngModelChange",function(r){return i.lpassword=r}),t.qZA(),t.YNc(14,H,2,0,"div",9),t.qZA(),t.TgZ(15,"div",10)(16,"input",11),t.NdJ("change",function(){return i.lremember=!i.lremember}),t.qZA(),t.TgZ(17,"label",12),t._uU(18,"Nh\u1edb \u0111\u0103ng nh\u1eadp"),t.qZA()(),t.TgZ(19,"button",13),t.NdJ("click",function(){return i.login()}),t._uU(20,"\u0110\u0103ng nh\u1eadp"),t.qZA()(),t.TgZ(21,"div",14)(22,"span"),t._uU(23,"Qu\xean m\u1eadt kh\u1ea9u?"),t.qZA(),t.TgZ(24,"span",15),t.NdJ("click",function(){return i.openRegister()}),t._uU(25,"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng k\xfd >>>"),t.qZA()()(),t.YNc(26,$,27,17,"div",16)(27,V,12,0,"div",16),t.qZA()),2&o&&(t.xp6(8),t.Q6J("autofocus",!0)("ngModel",i.lusername)("ngClass",t.VKq(10,w,i.lusernameInvalid)),t.xp6(1),t.Q6J("ngIf",i.lusernameInvalid),t.xp6(4),t.Q6J("ngModel",i.lpassword)("ngClass",t.VKq(12,w,i.lpasswordInvalid)),t.xp6(1),t.Q6J("ngIf",i.lpasswordInvalid),t.xp6(2),t.Q6J("checked",i.lremember),t.xp6(10),t.Q6J("ngIf",i.showRegister),t.xp6(1),t.Q6J("ngIf",i.showForgotPassword))},dependencies:[f.mk,f.O5,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.On,_.F],styles:[".modalContent[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.loginForm[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]{background-color:#12294d;padding:10px 20px;flex:1}.loginForm[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffd21b;font-size:31px;font-weight:700;text-align:center}.loginForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.loginForm[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}.loginForm[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .registerForm[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;text-decoration:underline;cursor:pointer}"]})}return n})(),Q=(()=>{class n{constructor(e,o){this.activeModal=e,this.modalService=o,this.configs={size:"",escapeHTML:!0,centerBody:!0},this.constants=m._}ngOnInit(){this.modalService.modalRef._windowCmptRef.instance.size="xl"}show(){}close(){}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(C.Kz),t.Y36(y))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-modal"]],inputs:{configs:"configs"},decls:1,vars:0,consts:[["src","/assets/images/server_moi.jpg","width","100%"]],template:function(o,i){1&o&&t._UZ(0,"img",0)},styles:['.modal-header[_ngcontent-%COMP%]{background-color:var(--background-modal-header);padding:16px}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:var(--font-normal);font-weight:600;line-height:22px;color:#05113a}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{transform:scale(1.5)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:focus{outline:none}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .body__wrap[_ngcontent-%COMP%]{display:grid}.modal-body[_ngcontent-%COMP%]   .body__wrap[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:153px;width:153px;background-size:contain!important;background-position:center!important;background-repeat:no-repeat!important;place-self:center;margin-bottom:10px}.modal-body[_ngcontent-%COMP%]   .body__wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:var(--font-normal-bigger);font-weight:400;line-height:22px;color:var(--primary-color)}.modal-body[_ngcontent-%COMP%]   .body__wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:block;text-align:center;border-top:none;border-top:0;padding:20px}.modal-footer[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]{border-radius:4px;padding:7px 40px;margin:0 18px;text-transform:uppercase;position:relative}.modal-footer[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]   .item-btn-text[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:var(--font-normal-small);line-height:22px;padding-left:5px}.modal-footer[_ngcontent-%COMP%]   .item-btn.btn-no-icon[_ngcontent-%COMP%]   .item-btn-text[_ngcontent-%COMP%]{padding-left:0}.modal-footer[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]:before{content:" ";position:absolute;top:11px;left:28px;width:16px;height:16px}.modal-footer[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background-color:var(--background-btn-gray)}.modal-footer[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400!important}.modal-footer[_ngcontent-%COMP%]   .btn-refuse[_ngcontent-%COMP%]{background-color:var(--background-btn-gray)}.modal-footer[_ngcontent-%COMP%]   .btn-refuse[_ngcontent-%COMP%]:before{background:url(/assets/images/icons/ioc-cancel.png)}.modal-footer[_ngcontent-%COMP%]   .btn-accept[_ngcontent-%COMP%]:before{background:url(/assets/images/icons/ioc-accept.png)}',"h1[_ngcontent-%COMP%]{font-weight:400}"]})}return n})();var c=l(6825);const u=(n,a,e={optional:!0})=>(0,c.IO)(n,a,e),A=[u(":enter, :leave",(0,c.oB)({position:"fixed",width:"100%",height:"100%"})),u(":enter",(0,c.oB)({transform:"translateX(100%)"})),(0,c.ru)([u(":leave",[(0,c.oB)({transform:"translateX(0%)"}),(0,c.jt)("1.0s ease",(0,c.oB)({transform:"translateX(-100%)"}))]),u(":enter",[(0,c.jt)("1.0s ease",(0,c.oB)({transform:"translateX(0%)"})),(0,c.pV)()])])],S=[u(":enter, :leave",(0,c.oB)({position:"fixed",width:"100%",height:"100%"})),u(":enter",(0,c.oB)({transform:"translateX(-100%)"})),(0,c.ru)([u(":leave",[(0,c.oB)({transform:"translateX(0%)"}),(0,c.jt)("1.0s ease",(0,c.oB)({transform:"translateX(100%)"}))]),u(":enter",[(0,c.jt)("1.0s ease",(0,c.oB)({transform:"translateX(0%)"})),(0,c.pV)()])])],E=(0,c.X$)("routeTransition",[(0,c.eR)(":increment",A),(0,c.eR)(":decrement",S)]),W=(0,c.X$)("routeAnimation",[(0,c.eR)(":increment",A),(0,c.eR)(":decrement",S)]),X=(0,c.X$)("appearTransition",[(0,c.eR)("* => *",A)]);(0,c.X$)("pageAnimation",[(0,c.eR)(":enter",[u("h1",[(0,c.oB)({transform:"scale(0)"}),(0,c.jt)("1s",(0,c.oB)("*"))],{optional:!0})])]);let tt=(()=>{class n{constructor(e,o){this.localStorageService=e,this.http=o}getTopList(){const e=(new p.WM).set(k.S,"");return this.http.get(b.N.backend+"/getTopList",{headers:e})}getTopListItems(){const e=(new p.WM).set(k.S,"");return this.http.get(b.N.backend+"/api/toplistitems",{headers:e})}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(x.n2),t.LFG(p.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),et=(()=>{class n{constructor(e,o,i,s,r,d){this.authService=e,this.router=o,this.modal=i,this.modalService=s,this.topService=r,this.document=d,this.Object=Object,this.playnowBlinked=!1,this.onHold=!1,this.backgroundIndex=1,this.dayLeft=0,this.hourLeft=0,this.minuteLeft=0,this.secondLeft=0,this.openTime="2022-07-21 18:55:20",this.countdownInterval=null,this.isOpen=!1,this.showDownload=!1,this.topListItems=[],this.serverTab=0,this.itemTab=0,this.topListShowing=0,this.numbers=[],this.numbers=Array(20)}ngOnInit(){this.document.body.classList.add("home"),setInterval(()=>{this.onHold||(this.playnowBlinked=!this.playnowBlinked)},150),this.countdown();let e=this;this.countdownInterval=setInterval(function(){e.countdown()},1e3),this.topService.getTopListItems().subscribe({next:o=>{let i=o;if(i.success)i=i.data,this.topListItems=i,0==this.serverTab&&(this.serverTab=i[0].id),0==this.itemTab&&(this.itemTab=i[0].items[0].id);else{const s=this.modal.open(h.z);s.componentInstance.modal_img="./assets/images/icon-warning.png",s.componentInstance.modal_title="Th\xf4ng b\xe1o",s.componentInstance.modal_description=i.message,s.componentInstance.modal_buttonCloseText="\u0110\xf3ng"}},error:o=>{},complete:()=>{}})}playnowClick(){this.authService.isLoggedIn()?this.router.navigateByUrl("/play"):this.modalService.modalRef=this.modal.open(Z)}download(){}zalo(){}facebook(){}tiktok(){}moreDownload(){}countdown(){let e=new Date,o=new Date(this.openTime);if(o.getTime()-e.getTime()<=0)return clearInterval(this.countdownInterval),void(this.isOpen=!0);this.dayLeft=T.inDays(e,o),this.hourLeft=T.inHours(e,o)-24*this.dayLeft,this.minuteLeft=T.inMinutes(e,o)-(24*this.dayLeft*60+60*this.hourLeft),this.secondLeft=T.inSeconds(e,o)-(24*this.dayLeft*60*60+60*this.hourLeft*60+60*this.minuteLeft)}showEventModal(){this.modalService.modalRef=this.modal.open(Q)}toggleTopList(){this.topListShowing=0==this.topListShowing?1:0}changeServerTab(e){this.serverTab=e.id,this.itemTab=e.items[0].id}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(I),t.Y36(g.F0),t.Y36(C.FF),t.Y36(y),t.Y36(tt),t.Y36(f.K0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"backgrounds"],["id","main"],[1,"btns"],[1,"btn","flex10",3,"click"],["src","/assets/images/zaloBtn.png"],["src","/assets/images/facebookBtn.png"],["src","/assets/images/tiktokBtn.png"],[1,"btn","flex37",3,"click"],["src","/assets/images/downloadBtn.png"],[1,"moreDownloads",3,"click"],["href","#"]],template:function(o,i){1&o&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.NdJ("click",function(){return i.zalo()}),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div",3),t.NdJ("click",function(){return i.facebook()}),t._UZ(6,"img",5),t.qZA(),t.TgZ(7,"div",3),t.NdJ("click",function(){return i.tiktok()}),t._UZ(8,"img",6),t.qZA(),t.TgZ(9,"div",7),t.NdJ("click",function(){return i.download()}),t._UZ(10,"img",8),t.qZA(),t.TgZ(11,"p",9),t.NdJ("click",function(){return i.moreDownload()}),t.TgZ(12,"a",10),t._uU(13,"Phi\xean b\u1ea3n kh\xe1c"),t.qZA()()()())},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}#bgVideo[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;min-width:100%;min-height:100%;z-index:1;filter:blur(5px)}.backgrounds[_ngcontent-%COMP%]{min-width:100%;min-height:100%;z-index:1;background-size:cover;background-position:center center;background-image:url(/assets/images/website_bg.jpg)}.overlay[_ngcontent-%COMP%]{position:fixed;z-index:2;top:0;left:0;min-width:100%;min-height:100%;background-image:url(/assets/backgrounds/StarfieldSimulation.gif);background-size:cover;opacity:.4;background-position:center center;filter:blur(2px)}#main[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:3;display:flex;flex-direction:row;height:100%}#main[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{position:absolute;top:414px;left:165px}#main[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{filter:brightness(110%)}#main[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .moreDownloads[_ngcontent-%COMP%]{position:absolute;right:95px;bottom:-35px}"],data:{animation:[E]}})}return n})();var T={inSeconds:(n,a)=>{var e=a.getTime(),o=n.getTime();return Math.floor((e-o)/1e3)},inMinutes:(n,a)=>{var e=a.getTime(),o=n.getTime();return Math.floor((e-o)/6e4)},inHours:(n,a)=>{var e=a.getTime(),o=n.getTime();return Math.floor((e-o)/36e5)},inDays:(n,a)=>{var e=a.getTime(),o=n.getTime();return Math.floor((e-o)/864e5)},inWeeks:function(n,a){var e=a.getTime(),o=n.getTime();return parseInt(((e-o)/6048e5).toString())},inMonths:function(n,a){var e=n.getFullYear(),o=a.getFullYear(),i=n.getMonth();return a.getMonth()+12*o-(i+12*e)},inYears:function(n,a){return a.getFullYear()-n.getFullYear()}};let nt=(()=>{class n{constructor(e,o){this.localStorageService=e,this.http=o}isLoggedIn(){return!M(this.localStorageService.get(m._.LS_TOKEN))}getPlayVars(){if(!this.isLoggedIn())return;const e=new p.WM;return e.set("Content-Type","application/json"),e.set("User-Agent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36"),this.http.get(b.N.backend+"/getPlayVars",{headers:e})}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(x.n2),t.LFG(p.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ot=(()=>{class n{constructor(e,o,i){this.localStorageService=e,this.router=o,this.playService=i,this.swfUrl=""}ngOnInit(){this.isLoggedIn()||this.router.navigateByUrl("/play"),this.getPlayVars()}isLoggedIn(){return!M(this.localStorageService.get(m._.LS_TOKEN))}getPlayVars(){this.playService.getPlayVars()?.subscribe(e=>{let o=e;M(o.error)&&swfobject.embedSWF(o.flashUrl+"/"+o.flashFile,"gameContent","100%","100%","11.8.0","expressInstall.swf",{user:o.username,key:o.keyrand,v:"104",rand:"92386938",config:o.configLink},{menu:"false",scale:"noScale",allowScriptAccess:"always",wmode:"direct"},{id:"gameContent",name:"EasyGunny",style:"margin: 0 auto;position: relative;display:block !important;"})})}download(){window.open("https://drive.google.com/file/d/1EFocjANmg7d95hjJd0G5BMvFUEs-ys0N/view?usp=sharing","_blank")}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(x.n2),t.Y36(g.F0),t.Y36(nt))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-play"]],decls:13,vars:0,consts:[[1,"backgrounds"],[1,"background",2,"background-image","url(/assets/images/playbg.jpg)"],["id","overlay",1,"overlay"],["id","main"],[1,"mainContent"],[1,"logo"],["src","/assets/images/logo2_cropped_lens.png"],[1,"swfobjectarea"],["id","gameContent"],["href","#",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA(),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"p")(10,"a",9),t.NdJ("click",function(){return i.download()}),t.TgZ(11,"b"),t._uU(12,"Vui l\xf2ng t\u1ea3i Launcher \u0111\u1ec3 ch\u01a1i game."),t.qZA()()()()()()())},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;height:100%;background-image:url(/assets/images/playbg2.jpg);background-repeat:repeat-y}.backgrounds[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;min-width:100%;min-height:100%;z-index:1;filter:blur(5px)}.backgrounds[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{width:100vw;height:100vh;background-size:cover;background-position:center center}.overlay[_ngcontent-%COMP%]{position:fixed;z-index:2;top:0;left:0;min-width:100%;min-height:100%;background-image:url(/assets/backgrounds/StarfieldSimulation.gif);background-size:cover;opacity:.4;background-position:center center;filter:blur(2px)}#main[_ngcontent-%COMP%]{position:relative;top:0;left:0;width:100%;height:100vh;z-index:3;display:flex;flex-direction:column}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:100px}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:600px}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{font-size:40px;margin-top:22px;color:#fff}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]{display:flex;margin-top:30px;justify-content:center;align-items:center}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .playnow[_ngcontent-%COMP%]{background-image:url(/assets/images/play-now.png);background-position-x:0;background-size:cover;height:125px;width:346px;cursor:pointer}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .playnow.blinked[_ngcontent-%COMP%]{background-position-x:100%}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .launcherDownload[_ngcontent-%COMP%]{background-image:url(/assets/images/download-now.png);background-position-x:0;background-size:cover;height:125px;width:372px;cursor:pointer}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .hgradient[_ngcontent-%COMP%]{font-weight:700;background:#FFA902;background:linear-gradient(to top,#FFA902 0%,#FACC22 50%,#FFA902 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:50px;margin-left:25px;margin-right:25px;position:relative}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;bottom:-16px;left:2px;background:#FFA902;background:linear-gradient(to top,#FFA902 0%,#FACC22 50%,#FFA902 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:25px}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]:after{content:"ng\\e0y"}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   .hours[_ngcontent-%COMP%]:after{content:"gi\\1edd";left:7px}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   .minutes[_ngcontent-%COMP%]:after{content:"ph\\fat"}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .contentFooter[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   .seconds[_ngcontent-%COMP%]:after{content:"gi\\e2y";left:5px}#main[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .golden-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 3px #9f6b07)}']})}return n})();function it(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.registerClick())}),t._uU(1,"\u0110\u0103ng nh\u1eadp"),t.qZA()}}function at(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function st(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.registerClick())}),t._uU(1,"\u0110\u0103ng k\xfd"),t.qZA()}}function rt(n,a){if(1&n&&(t.TgZ(0,"span",10),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.getUserName())}}const ct=[{path:"",component:(()=>{class n{constructor(e,o,i,s,r){this.route=e,this.local=o,this.authService=i,this.modalService=s,this.modal=r}ngOnInit(){}getStateTransition(e){return e&&e.activatedRouteData&&e.activatedRouteData.routeIdx}getStateAnimation(e){return e&&e.activatedRouteData&&e.activatedRouteData.routeIdx}getStateAppear(e){return e&&e.activatedRouteData&&e.activatedRouteData.state}registerClick(){this.modalService.modalRef=this.modal.open(Z)}getUserName(){return this.authService.getUserInfo().UserName}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(g.gz),t.Y36(x.n2),t.Y36(I),t.Y36(y),t.Y36(C.FF))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["pages-component"]],decls:14,vars:6,consts:[[1,"links"],[1,"sign"],["src","/assets/images/chicken_bnw.png","height","30"],["style","cursor: pointer",3,"click",4,"ngIf"],[4,"ngIf"],["style","cursor: pointer",4,"ngIf"],[1,"body"],["o","outlet"],[1,"copyright"],[2,"cursor","pointer",3,"click"],[2,"cursor","pointer"]],template:function(o,i){if(1&o&&(t.TgZ(0,"header"),t._UZ(1,"div",0),t.TgZ(2,"div",1),t._UZ(3,"img",2),t.YNc(4,it,2,0,"span",3)(5,at,2,0,"span",4)(6,st,2,0,"span",3)(7,rt,2,1,"span",5),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"router-outlet",null,7),t.qZA(),t.TgZ(11,"footer")(12,"div",8),t._uU(13," Gunny2012 \xa9 2023 - gunny2012team@gmail.com "),t.qZA()()),2&o){const s=t.MAs(10);t.xp6(4),t.Q6J("ngIf",!i.authService.isLoggedIn()),t.xp6(1),t.Q6J("ngIf",!i.authService.isLoggedIn()),t.xp6(1),t.Q6J("ngIf",!i.authService.isLoggedIn()),t.xp6(1),t.Q6J("ngIf",i.authService.isLoggedIn()),t.xp6(1),t.Q6J("@routeTransition",i.getStateTransition(s))("@routeAnimation",i.getStateAnimation(s))}},dependencies:[g.lC,f.O5],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:calc(100vw - 450px);height:50px;padding:5px 10px;z-index:999}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{float:left;padding:5px 0;display:flex}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{color:#fff}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:0 10px;border-right:1px solid white}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:first-child{padding:0 10px 0 0}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{border-right:none}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;align-items:center}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{text-decoration:underline}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}header[_ngcontent-%COMP%]   .sign[_ngcontent-%COMP%]{float:right;color:#fff;display:flex;align-items:center}header[_ngcontent-%COMP%]   .sign[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:3px}.body[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}footer[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;align-items:center;bottom:0;left:0;width:100%;height:50px;z-index:999;position:absolute}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#000}"],data:{animation:[E,X,W]}})}return n})(),children:[{path:"",data:{state:"lazy1",routeIdx:2},component:et,children:[]},{path:"play",data:{state:"lazy1",routeIdx:3},component:ot,children:[]}]}];let lt=(()=>{class n{constructor(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(ct),g.Bz]})}return n})();var dt=l(822),L=l(8645),B=l(2096),N=l(4825),gt=l(2572),pt=l(5592),P=l(7398),ut=l(8180),D=l(9397),U=l(7921),R=l(4664),mt=l(4552);class ht extends L.x{constructor(a=1/0,e=1/0,o=mt.l){super(),this._bufferSize=a,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,a),this._windowTime=Math.max(1,e)}next(a){const{isStopped:e,_buffer:o,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:r}=this;e||(o.push(a),!i&&o.push(s.now()+r)),this._trimBuffer(),super.next(a)}_subscribe(a){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(a),{_infiniteTimeWindow:o,_buffer:i}=this,s=i.slice();for(let r=0;r<s.length&&!a.closed;r+=o?1:2)a.next(s[r]);return this._checkFinalizedStatuses(a),e}_trimBuffer(){const{_bufferSize:a,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:i}=this,s=(i?1:2)*a;if(a<1/0&&s<o.length&&o.splice(0,o.length-s),!i){const r=e.now();let d=0;for(let v=1;v<o.length&&o[v]<=r;v+=2)d=v;d&&o.splice(0,d+1)}}}var ft=l(3020);class Mt{constructor(a={}){this.config=a,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new L.x,this._value$=null,this.timer$=e=>{let o=(0,B.of)(e);switch(e.action){case"start":case"increment":case"set":"start"===e.action&&0===this.config.latencyThreshold&&0===e.value&&(e.value=e.initialValue),this.requests>0&&(o=(0,N.H)(this.config.latencyThreshold,250).pipe((0,P.U)(i=>({...e,value:0===i?this.state.value||e.initialValue:this._increment()}))));break;case"complete":case"stop":o=0===e.value?(0,B.of)({...e}):(0,N.H)(0,500).pipe((0,ut.q)(2),(0,P.U)(i=>({value:0===i?100:0})))}return o.pipe((0,P.U)(i=>({...i,action:"set"})),(0,D.b)(i=>this.next(i,!1)))},this.config={latencyThreshold:0,...a}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe((0,U.O)(this.state),(0,R.w)(a=>this.timer$(a)),function _t(n,a,e){let o,i=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:a=1/0,refCount:i=!1,scheduler:e}=n):o=n??1/0,(0,ft.B)({connector:()=>new ht(o,a,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}(),(0,P.U)(a=>a.value))}start(a=2){this.disabled||this.next({action:"start",initialValue:a})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(a){this.next({action:"set",value:a})}increment(a=0){this.next({action:"increment",value:a})}next(a,e=!0){switch(a.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":a.value=this._increment(a.value)}this.state={...this.state,action:null,...a},e&&this.stream$.next(this.state)}_increment(a=0){const e=this.state.value;return e>=99&&(a=0),0===a&&(a=e>=0&&e<25?3*Math.random()+3:e>=25&&e<65?3*Math.random():e>=65&&e<90?2*Math.random():e>=90&&e<99?.5:0),a+e}}const bt=new t.OlP("LOADING_BAR_CONFIG");let z=(()=>{class n{constructor(e,o={},i){this.platformId=e,this.config=o,this.zone=i,this.refs={},this.streams$=new L.x,this.value$=this.streams$.pipe((0,U.O)(null),(0,R.w)(()=>(0,gt.a)(Object.keys(this.refs).map(s=>this.refs[s].value$))),function xt(n){return n?a=>new pt.y(e=>a.subscribe(o=>n.run(()=>e.next(o)),o=>n.run(()=>e.error(o)),()=>n.run(()=>e.complete()))):a=>a}(this.zone),(0,P.U)(s=>Math.max(0,...s)))}get progress$(){return this.value$}start(e=2){this.useRef().start(e)}set(e){this.useRef().set(e)}increment(e){this.useRef().increment(e)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(e="default"){return this.refs[e]||(this.refs[e]=new Mt(this.config),this.streams$.next(),(0,f.NF)(this.platformId)||this.refs[e].disable()),this.refs[e]}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.Lbi),t.LFG(bt,8),t.LFG(t.R0b,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez]]}),n})();var wt=l(4716);const Pt=new p.Xk(()=>!1);let Ot=(()=>{class n{constructor(e){this.loader=e}intercept(e,o){if(e.headers.has("ignoreLoadingBar"))return o.handle(e.clone({headers:e.headers.delete("ignoreLoadingBar")}));if(!0===e.context.get(Pt))return o.handle(e);let i=!1;const s=this.loader.useRef("http");return o.handle(e).pipe((0,D.b)(()=>{i||(s.start(),i=!0)}),(0,wt.x)(()=>i&&s.complete()))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(z))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:p.TP,useClass:Ot,multi:!0}],imports:[[p.JF,O],p.JF,O]}),n})(),kt=(()=>{class n{constructor(e,o){const i=o.useRef("router");e.events.subscribe(s=>{const r=this.getCurrentNavigationState(e);r&&r.ignoreLoadingBar||(s instanceof g.OD&&i.start(),(s instanceof g.Q3||s instanceof g.m2||s instanceof g.gk)&&i.complete())})}getCurrentNavigationState(e){const o=e.getCurrentNavigation&&e.getCurrentNavigation();return o&&o.extras?o.extras.state:{}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.F0),t.LFG(z))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz,O],g.Bz,O]}),n})(),Tt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[lt,dt.K,yt,kt,O,f.ez,C.HK]})}return n})()}}]);